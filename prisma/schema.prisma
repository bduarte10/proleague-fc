generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

enum MatchStatus {
  SCHEDULED
  FINISHED
}

enum Stage {
  GROUP_STAGE
  SEMIFINAL
  FINAL
}

enum GroupName {
  A
  B
  NONE
}

// 3. Tabela de Times
model Team {
  id      String    @id @default(uuid())
  name    String
  // Optional ISO country code (e.g., "AR", "BR") used to render flags
  isoCode String?
  group   GroupName @default(NONE)

  homeMatches Match[] @relation("HomeTeam")
  awayMatches Match[] @relation("AwayTeam")

  createdAt DateTime @default(now())
}

model Match {
  id String @id @default(uuid())

  homeTeamId String?
  homeTeam   Team?   @relation("HomeTeam", fields: [homeTeamId], references: [id])

  awayTeamId String?
  awayTeam   Team?   @relation("AwayTeam", fields: [awayTeamId], references: [id])

  homeScore Int? @default(0)
  awayScore Int? @default(0)

  status MatchStatus @default(SCHEDULED)
  stage  Stage
  group  GroupName   @default(NONE)

  matchDate DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
